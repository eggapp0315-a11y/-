<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>æœ€æ–°æ¶ˆæ¯ï½œæ•¸å­¸æ•™å­¸ç¶²ç«™</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<!-- ======================
     Header
====================== -->
<header>
    <h1>ğŸ“˜ æ•¸å­¸æ•™å­¸ç¶²ç«™</h1>
    <nav>
        <a href="{{ url_for('home') }}">å›é¦–é </a>

        {% if session.get("role") == "admin" %}
            | <a href="{{ url_for('admin_new_news') }}">æ–°å¢æ¶ˆæ¯</a>
        {% endif %}
    </nav>
</header>

<!-- ======================
     ä¸»å…§å®¹
====================== -->
<main class="container">
    <h2>æœ€æ–°æ¶ˆæ¯</h2>

    {% if news_list %}
        <ul class="news-list">

            {% for news in news_list %}
                <li class="news-item">

                    <h3>{{ news.title }}</h3>

                    <p class="news-date">
                        {{ news.date.strftime("%Y/%m/%d %H:%M") }}
                    </p>

                    <p class="news-content">
                        {{ news.content }}
                    </p>

                    <!-- é¡¯ç¤ºåœ–ç‰‡ -->
                    {% if news.filename %}
                        <img
                            src="{{ url_for('static', filename='uploads/' + news.filename) }}"
                            alt="æ¶ˆæ¯åœ–ç‰‡"
                            class="news-image"
                        >
                    {% endif %}

                    <!-- âœ… åªæœ‰ç®¡ç†å“¡æ‰çœ‹åˆ°åˆªé™¤æŒ‰éˆ• -->
                    {% if session.get("role") == "admin" %}
                        <form
                            action="{{ url_for('admin_delete_news', news_id=news.id) }}"
                            method="post"
                            onsubmit="return confirm('ç¢ºå®šè¦åˆªé™¤é€™å‰‡æ¶ˆæ¯å—ï¼Ÿ');"
                            style="margin-top:10px;"
                        >
                            <button class="delete-btn">ğŸ—‘ï¸ åˆªé™¤</button>
                        </form>
                    {% endif %}

                </li>
            {% endfor %}

        </ul>
    {% else %}
        <p>ç›®å‰æ²’æœ‰æœ€æ–°æ¶ˆæ¯ã€‚</p>
    {% endif %}
</main>

</body>
</html>
